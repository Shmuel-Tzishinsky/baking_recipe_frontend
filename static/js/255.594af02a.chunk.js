(self.webpackChunkbaking_recipe=self.webpackChunkbaking_recipe||[]).push([[255],{7437:(e,n,a)=>{"use strict";a.d(n,{A:()=>i});var t=a(579);const i=()=>(0,t.jsx)("div",{className:"loading-login loading-login-full-height"})},766:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>D});var t=a(5043),i=a(9937),l=a(1588),s=a(7437),o=a(6885),r=a(5475),c=a(3825),d=a(184),g=a(7196),u=a(9843),h=a(5659),p=a(4048),f=a.n(p),m=a(1462),x=a(579);function v(e){const[n,a]=(0,t.useState)(!1),i=n=>{e.filterRecords(),e.searchParams({q:n.target.value.replace(/(^\s+| \s+$)/g,"")})};return!0===e.config.show_length_menu||!0===e.config.show_filter||!0===e.config.button.excel||!0===e.config.button.csv||!0===e.config.button.print?(0,x.jsxs)("div",{className:"table-head",id:e.id?e.id+"-table-head":"",children:[(0,x.jsx)("div",{className:"table-changes",children:e.config.show_filter?(0,x.jsxs)("div",{className:"table_filter download-container",children:[(0,x.jsx)("label",{children:"\u05d4\u05d5\u05e8\u05d3"}),(0,x.jsxs)("div",{className:"form-control",children:[(0,x.jsx)(c.pfD,{className:"search-icon"}),(0,x.jsx)("div",{className:"form-control-div ".concat(n?"show-list-download":""),onClick:()=>a(!0)}),n&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"alert-hidden-all-page",onClick:()=>a(!1)}),(0,x.jsxs)("div",{className:"list-download",onClick:()=>a(!1),children:[e.config.button.excel&&(0,x.jsx)("div",{className:"option-download",onClick:e.exportToExcel,children:(0,x.jsx)(g.YjD,{})}),e.config.button.csv&&(0,x.jsx)("div",{className:"option-download",onClick:e.exportToCSV,children:(0,x.jsx)(d.QaY,{})}),e.config.button.print&&(0,x.jsx)("div",{className:"option-download",onClick:e.exportToPDF,children:(0,x.jsx)(c.aTs,{})})]})]})]})]}):null}),(0,x.jsx)("div",{className:"table-changes",children:e.config.show_filter?(0,x.jsxs)("div",{className:"table_filter",children:[(0,x.jsx)("label",{children:"\u05d7\u05e4\u05e9 \u05d1\u05e8\u05e9\u05d5\u05de\u05d5\u05ea"}),(0,x.jsxs)("div",{className:"form-control",children:[(0,x.jsx)(h.Lab,{className:"search-icon"}),(0,x.jsx)("input",{type:"search",className:"form-control-input",value:e.value||"",placeholder:e.config.language.filter,onChange:i})]}),!e.filterRecordsVariable.length&&(0,x.jsx)("p",{style:{fontSize:"10px",color:"red",margin:"5px 5px 0 0 ",textAlign:"right",maxWidth:"200px"},children:(0,x.jsxs)("span",{children:[(0,x.jsxs)("b",{children:[e.config.language.no_data_text," "]}),e.config.hidden_fields&&"\u05e9\u05d9\u05dd \u05dc\u05d1 \u05e9\u05d4\u05e2\u05de\u05d5\u05d3\u05d4 \u05d4\u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05ea \u05dc\u05d0 \u05de\u05d5\u05e1\u05ea\u05e8\u05ea"]})})]}):null}),e.config.hidden_fields&&(0,x.jsx)("div",{className:"table-changes",children:(0,x.jsx)(_,{columns:e.columns,setColumns:e.setColumns})}),e.config.show_length_menu?(0,x.jsx)("div",{className:"table-changes",children:(0,x.jsxs)("div",{className:"table_filter",children:[(0,x.jsx)("label",{children:"\u05e9\u05d5\u05e8\u05d5\u05ea \u05d1\u05d3\u05e3"}),(0,x.jsxs)("div",{className:"form-control",children:[(0,x.jsx)(m.g6,{className:"filter-icon"}),f()(e.config.language.length_menu,"_MENU_")?(0,x.jsx)("select",{type:"text",className:"form-control-select",onChange:e.changePageSize,children:e.config.length_menu.map(((e,n)=>(0,x.jsxs)("option",{value:e,children:[e," \u05e9\u05d5\u05e8\u05d5\u05ea \u05d1\u05d3\u05e3"]},e)))}):null]})]})}):null]}):null}const _=e=>{let{columns:n,setColumns:a}=e;const[i,l]=(0,t.useState)(!1),[s,o]=(0,t.useState)("");(0,t.useEffect)((()=>{o("")}),[i]);return(0,x.jsxs)(x.Fragment,{children:[i&&(0,x.jsx)("div",{className:"alert-hidden-all-page",onClick:()=>l(!1)}),(0,x.jsxs)("div",{className:"hidden_fields_container",children:[(0,x.jsxs)("div",{className:"hidden_fields_head",onClick:()=>l(!i),children:[(0,x.jsx)("label",{"data-num":n.filter((e=>e.hidden)).length,children:"\u05d4\u05e1\u05ea\u05e8 \u05e2\u05de\u05d5\u05d3\u05d5\u05ea"}),(0,x.jsxs)("div",{className:"form-control",children:[(0,x.jsx)(c.dA8,{className:"filter-icon"}),(0,x.jsx)("input",{className:"hidden_fields_demo_input ".concat(i?"show-list-hidden":""),value:"\u05e1\u05e0\u05df \u05e2\u05de\u05d5\u05d3\u05d5\u05ea..",readOnly:!0})]})]}),i&&(0,x.jsxs)("div",{className:"hidden_fields_menu",children:[(0,x.jsx)("input",{type:"search",value:s,className:"hidden_fields_input",onInput:e=>o(e.target.value),placeholder:"\u05d7\u05e4\u05e9 \u05e2\u05de\u05d5\u05d3\u05d4..."}),(0,x.jsx)("div",{className:"hidden_fields_options",children:n.map(((e,t)=>e.sortable&&(0,x.jsx)(j,{searchInput:s,hiddenFields:e.hidden,index:t,columns:n,setColumns:a},t)))}),(0,x.jsx)("button",{onClick:()=>{for(let e=0;e<n.length;e++)n[e].hidden=!1;a([...n])},children:"\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc"})]})]})]})},j=e=>{let{hiddenFields:n,index:a,searchInput:t,columns:i,setColumns:l}=e;return i[a].text.toString().toLowerCase().indexOf(t.toString().toLowerCase())>-1&&(0,x.jsxs)("div",{className:"hidden_fields_option ".concat(n?"hidden_fields":""),onClick:()=>{i[a].hidden=!i[a].hidden,l([...i])},children:[(0,x.jsx)("div",{children:i[a].text}),(0,x.jsx)(u.i,{checked:!n})]})};function b(e){return(0,x.jsxs)("ul",{className:"nav-ul",children:[e.config.show_first?(0,x.jsx)("li",{className:(e.isFirst?"disabled ":"")+"page-item page-link",onClick:e.firstPage,children:(0,x.jsx)("span",{children:e.config.language.pagination.first})}):null,(0,x.jsx)("li",{className:(e.isFirst?"disabled ":"")+"page-item page-link",onClick:e.previousPage,children:e.config.language.pagination.previous}),(0,x.jsx)("li",{className:"page-item",children:(0,x.jsx)("div",{className:"page-link",children:(0,x.jsx)("input",{style:{border:"none",padding:"0",maxWidth:"30px",textAlign:"center",display:"inline-block",height:"34px"},type:"number",min:0,max:e.pages,value:e.is_temp_page?e.temp_page_number:e.page_number,onChange:n=>e.onPageChange(n,!0),onBlur:e.onPageBlur,onKeyDown:e.onPageChange})})}),(0,x.jsx)("li",{className:(e.isLast?"disabled ":"")+"page-item page-link",onClick:e.nextPage,children:e.config.language.pagination.next}),e.config.show_last?(0,x.jsx)("li",{className:(e.isLast?"disabled ":"")+"page-item page-link",onClick:e.lastPage,children:(0,x.jsx)("span",{children:e.config.language.pagination.last})}):null]})}function N(e){let n=e.pages,a=e.page_number,t=[],{language:{pagination:i}}=e,l=function(e){let n=e.className||"";return(0,x.jsx)("li",{className:"page-item "+n,children:(0,x.jsx)("div",{className:"page-link",onClick:n=>{n.preventDefault(),"..."!==n.target.innerHTML&&e.onClick(n)},children:e.children||""})})},s=function(n,i){for(let s=n;s<i;s++)t.push((0,x.jsx)(l,{className:a===s?"active":"",onClick:n=>e.goToPage(n,s),children:s},s))},o=function(){t.push((0,x.jsx)(l,{children:"..."},"l...")),t.push((0,x.jsx)(l,{className:a===n?"active":"",onClick:a=>e.goToPage(a,n),children:n},n))},r=function(){t.push((0,x.jsx)(l,{className:1===a?"active":"",onClick:n=>e.goToPage(n,1),children:"1"},"1")),t.push((0,x.jsx)(l,{children:"..."},"f..."))};return t.push((0,x.jsx)(l,{className:e.isFirst?"disabled ":"",onClick:e.previousPage,children:i.previous?i.previous:(0,x.jsx)("span",{children:(0,x.jsx)(c.qXl,{})})},"p0")),n<10?s(1,n+1):a<5?(s(1,8),o()):a>n-4?(r(),s(n-4-2,n+1)):(r(),s(a-2,a+2+1),o()),t.push((0,x.jsx)(l,{className:e.isLast?"disabled ":"",onClick:e.nextPage,children:i.next?i.next:(0,x.jsx)("span",{children:(0,x.jsx)(c.BJp,{})})},"n0")),(0,x.jsx)("ul",{className:"nav-ul ul-ADPagination",children:t})}function k(e){var n;return!0===e.config.show_info||!0===e.config.show_pagination?(0,x.jsxs)("div",{className:"table-footer",id:e.id?e.id+"-table-foot":"",children:[e.config.show_pagination?(0,x.jsx)("nav",{"aria-label":"Page navigation",className:"pull-nav",children:"basic"===e.config.pagination?(0,x.jsx)(b,{config:e.config,isFirst:e.isFirst,isLast:e.isLast,pages:e.pages,page_number:e.page_number,is_temp_page:e.is_temp_page,temp_page_number:e.temp_page_number,previousPage:e.previousPage,firstPage:e.firstPage,nextPage:e.nextPage,lastPage:e.lastPage,goToPage:e.goToPage,onPageChange:e.onPageChange,onPageBlur:e.onPageBlur}):(0,x.jsx)(N,{language:e.config.language,isFirst:e.isFirst,isLast:e.isLast,pages:e.pages,page_number:e.page_number,previousPage:e.previousPage,nextPage:e.nextPage,goToPage:e.goToPage})}):null,(0,x.jsx)("div",{className:"pagination-info",children:null!==e&&void 0!==e&&null!==(n=e.config)&&void 0!==n&&n.show_info?null===e||void 0===e?void 0:e.paginationInfo:null})]}):null}var y=a(4069),w=a.n(y);const C=(e,n)=>{e+="";const a=null!==n&&void 0!==n&&n.length?e.split(new RegExp("(".concat(n,")"),"gi")):[e];return(0,x.jsx)("span",{children:a.map(((e,a)=>(0,x.jsx)("span",{style:(null===e||void 0===e?void 0:e.toLowerCase())===(null===n||void 0===n?void 0:n.toLowerCase())?{background:"yellow",color:"#000",borderRadius:"2px"}:{},children:e},a)))})};const P=e=>{let[n,a]=(0,r.ok)();const i=n.get("q"),[l,s]=(0,t.useState)(e.columns||[]),[c,d]=(0,t.useState)({is_temp_page:!1,page_size:e.config.page_size?e.config.page_size:10,page_number:1,sort:!(!e.config||!e.config.sort)&&e.config.sort,temp_page_number:0}),g={button:{excel:!!(e.config&&e.config.button&&e.config.button.excel)&&e.config.button.excel,print:!!(e.config&&e.config.button&&e.config.button.print)&&e.config.button.print,csv:!!(e.config&&e.config.button&&e.config.button.csv)&&e.config.button.csv,extra:!!(e.config&&e.config.button&&e.config.button.extra)&&e.config.button.extra},filename:e.config&&e.config.filename?e.config.filename:"table",key_column:e.config&&e.config.key_column?e.config.key_column:"id",language:{length_menu:e.config&&e.config.language&&e.config.language.length_menu?e.config.language.length_menu:"_MENU_",filter:e.config&&e.config.language&&e.config.language.filter?e.config.language.filter:"Search in records...",info:e.config&&e.config.language&&e.config.language.info?e.config.language.info:"Showing _START_ to _END_ of _TOTAL_ entries",pagination:{first:e.config&&e.config.language&&e.config.language.pagination&&e.config.language.pagination.first?e.config.language.pagination.first:"First",previous:e.config&&e.config.language&&e.config.language.pagination&&e.config.language.pagination.previous?e.config.language.pagination.previous:"Previous",next:e.config&&e.config.language&&e.config.language.pagination&&e.config.language.pagination.next?e.config.language.pagination.next:"Next",last:e.config&&e.config.language&&e.config.language.pagination&&e.config.language.pagination.last?e.config.language.pagination.last:"Last"},no_data_text:e.config&&e.config.language&&e.config.language.no_data_text?e.config.language.no_data_text:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e8\u05e9\u05d5\u05de\u05d5\u05ea!",loading_text:e.config&&e.config.language&&e.config.language.loading_text?e.config.language.loading_text:"\u05d8\u05d5\u05e2\u05df..."},length_menu:e.config&&e.config.length_menu?e.config.length_menu:[10,25,50,75,100],show_length_menu:void 0===e.config.show_length_menu||e.config.show_length_menu,show_filter:void 0===e.config.show_filter||e.config.show_filter,hidden_fields:void 0===e.config.hidden_fields||e.config.hidden_fields,show_pagination:void 0===e.config.show_pagination||e.config.show_pagination,show_info:void 0===e.config.show_info||e.config.show_info,show_first:void 0===e.config.show_first||e.config.show_first,show_last:void 0===e.config.show_last||e.config.show_last,pagination:e.config.pagination?e.config.pagination:"basic"};(0,t.useEffect)((()=>{const n=[];if(!g.hidden_fields){for(let t=0;t<(null===e||void 0===e||null===(a=e.columns)||void 0===a?void 0:a.length);t++){var a;e.columns[t].hidden=!1,n.push(e.columns[t])}s([...n])}}),[g.hidden_fields,e.columns]);const h=e=>Math.ceil(e/c.page_size),p=()=>0===T||c.page_number===T,f=()=>1===c.page_number,_=(n,a)=>{if(n.preventDefault(),c.page_number===a)return;let t={previous_page:c.page_number,current_page:a};d({...c,is_temp_page:!1,page_number:a}),e.onPageChange(t)},j=e=>(new DOMParser).parseFromString(e,"text/html").body.textContent||"",b=e=>{let n=i;return e.filter((e=>{let a=!1;return l.forEach(((t,i)=>{!t.hidden&&e[t.key]&&(a=e[t.key].toString().toLowerCase().indexOf(n.toString().toLowerCase())>-1||a)})),a}))},N=()=>c.sort?e.records.sort(((e,n)=>{let a=e[c.sort.column],t=n[c.sort.column];return a<t?1:a>t?-1:0})):e.records;let y,P,T,S,A;if(!1===e.dynamic){let n=e.onSort?e.onSort(c.sort.column,e.records,c.sort.order):N();y=n,i&&(y=b(n)),P=Array.isArray(y)?y.length:0,T=h(P),S=f(),A=p(),y=Array.isArray(y)?(e=>{let n=c.page_size,a=c.page_number;return--a,e.slice(a*n,(a+1)*n)})(y):[]}else y=e.records,P=e.total_record,T=h(P),S=f(),A=p();let R=c.page_number*c.page_size-(c.page_size-1),L=c.page_size*c.page_number;L=L>P?P:L;let F=g.language.info;return F=F.replace("_START_",1===c.page_number?0:R-1),F=F.replace("_END_",L),F=F.replace("_TOTAL_",P),(0,x.jsx)("div",{className:"container-export-table",id:e.id?e.id+"-container":"",children:e.loading?(0,x.jsx)("div",{className:"asrt-td-loading",align:"center",children:(0,x.jsx)("div",{className:"asrt-loading-textwrap",children:(0,x.jsx)("span",{className:"asrt-loading-text",children:g.language.loading_text})})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v,{changePageSize:e=>{let n=e.target.value;d({...c,page_size:n})},config:g,filterRecordsVariable:y,id:e.id,setColumns:s,columns:l,value:i,recordLength:e.dynamic?e.total_record:e.records.length,searchParams:a,filterRecords:e=>{d({...c,page_number:1})},exportToExcel:()=>{let n=[];for(let e of l)"action"!==e.key&&n.push({label:e.text,value:e.key});let a=e.records;if(!1===e.dynamic){let e=N();a=e,i&&(a=b(e))}let t=[];for(let e in a){let n=a[e],i={};for(let a of l)if("action"!==a.key)if(a.cell&&"function"===typeof a.cell){let t=o.renderToStaticMarkup(a.cell(n,e));t=j(t),i[a.key]=t}else if(n[a.key]){let e=n[a.key];e="string"===typeof e?e.replace(/"/g,'""'):e,i[a.key]='"'+e+'"'}else i[a.key]="";t.push(i)}n.length&&t.unshift(n);let s=[{sheet:"Adults",columns:e.columnForXlsx,content:a||[]}];w()(s,{fileName:"data_table",extraLength:3,writeMode:"writeFile",writeOptions:{},RTL:!0})},exportToCSV:()=>{let n={};for(let e of l)"action"!==e.key&&(n[e.key]='"'+e.text+'"');let a=e.records;if(!1===e.dynamic){let e=N();a=e,i&&(a=b(e))}let t=[];for(let e in a){let n=a[e],i={};for(let a of l)if("action"!==a.key)if(a.cell&&"function"===typeof a.cell){let t=o.renderToStaticMarkup(a.cell(n,e));t=j(t),i[a.key]=t}else if(n[a.key]){let e=n[a.key];e="string"===typeof e?e.replace(/"/g,'""'):e,i[a.key]='"'+e+'"'}else i[a.key]="";t.push(i)}n&&t.unshift(n);let s=JSON.stringify(t),r=String.fromCharCode(65279)+(e=>{let n="object"!==typeof e?JSON.parse(e):e,a="";for(let t=0;t<n.length;t++){let e="";for(let a in n[t])""!==e&&(e+=","),e+=n[t][a];a+=e+"\r\n"}return a})(s),c=g.filename+".csv"||0,d=new Blob([r],{type:"text/csv;charset=UTF-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(d,c);else{let e=document.createElement("a");if(void 0!==e.download){let n=URL.createObjectURL(d);e.setAttribute("href",n),e.setAttribute("download",c),e.style.visibility="hidden",document.body.appendChild(e),e.click(),e.remove()}}},exportToPDF:()=>{let n=(()=>{let n="<table>";n+="<thead>",n+="<tr>";for(let e of l)"action"!==e.key&&(n+="<th>"+e.text+"</th>");n+="</tr>",n+="</thead>",n+="<tbody>";let a=e.records;if(!1===e.dynamic){let e=N();a=e,i&&(a=b(e))}for(let e in a){let t=a[e];n+="<tr>";for(let a of l)if("action"!==a.key)if(a.cell&&"function"===typeof a.cell){let i=o.renderToStaticMarkup(a.cell(t,e));i=j(i),n+="<td>"+i+"</td>"}else t[a.key]?n+="<td>"+t[a.key]+"</td>":n+="<td></td>";n+="</tr>"}return n+="</tbody>",n+="</table>",n})(),a="<style>";a+="table {direction: rtl;width: 100%;font: 17px Calibri;}",a+="table, th, td {border: solid 1px #DDD; border-collapse: collapse;",a+="padding: 2px 3px;text-align:left;margin:0;text-align: center; vertical-align: middle;}",a+="</style>";let t=window.open("","_blank");t.document.write("<html><head>"),t.document.write("<title>"+g.filename+"</title>"),t.document.write(a),t.document.write("</head>"),t.document.write("<body>"),t.document.write("<h1>"+g.filename+"</h1>"),t.document.write(n),t.document.write("</body></html>"),t.print(),t.close()},extraButtons:e.extraButtons}),(0,x.jsx)("div",{className:"export-table table_body",id:e.id?e.id+"-table-body":"",children:(0,x.jsxs)("table",{className:e.className,id:e.id,children:[(0,x.jsx)("thead",{className:e.tHeadClassName?e.tHeadClassName:"",children:(0,x.jsx)("tr",{children:l.map(((e,n)=>{let a=e.sortable?"sortable ":"",t=e.align?e.align:"",i="",l={};return e.sortable&&c.sort.column===e.key&&(i=c.sort.order,a+=i?" "+i:"",l="asc"===i?"sort_asc":"sort_desc"),a+=" text-"+t,e.TrOnlyClassName&&(a+=" "+e.TrOnlyClassName),e.hidden?null:(0,x.jsx)("th",{className:"".concat(e.className," ").concat(a),style:l,onClick:n=>((e,n,a)=>{if(!n.sortable)return!1;let t="asc"===a?"desc":"asc";d({...c,sort:{column:n.key,order:t},page_number:1})})(0,e,i),children:e.text},e.key?e.key:e.text)}))})}),(0,x.jsx)("tbody",{children:y.length?y.map(((n,a)=>{var t;return(0,x.jsx)("tr",{className:"".concat("true"===(null===n||void 0===n?void 0:n.wrongRide)?"wrong-ride":null!==n&&void 0!==n&&null!==(t=n.updatedAt)&&void 0!==t&&t.length?"travel-updated":""," "),children:l.map(((a,t)=>"action"!==a.key||a.hidden?null===n[a.key]||void 0===n[a.key]||a.hidden?a.hidden?null:(0,x.jsx)("td",{className:a.className,onClick:()=>e.onEditRow(n),children:(0,x.jsx)("div",{})},a.key?a.key:a.text):"isActive"===a.key?(0,x.jsx)("td",{className:a.className,onClick:()=>e.onEditRow(n),children:(0,x.jsx)("div",{children:(0,x.jsx)(u.i,{checked:n[a.key]})})},a.key?a.key:a.text):(0,x.jsx)("td",{className:a.className,onClick:()=>e.onEditRow(n),children:(0,x.jsxs)("div",{children:[" ",C(n[a.key],i)]})},a.key?a.key:a.text):(0,x.jsx)("td",{className:a.className,children:(0,x.jsx)("div",{className:a.className,children:(0,x.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>e.alertDeleteRow(n),children:(0,x.jsx)(m.WeY,{})})})},a.key?a.key:a.text)))},n[g.key_column])})):(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{children:[" ",(0,x.jsx)("div",{className:"asrt-td-loading",align:"center"})]})})})]})}),(0,x.jsx)(k,{config:g,id:e.id,isFirst:S,isLast:A,paginationInfo:F,pages:T,page_number:c.page_number,is_temp_page:c.is_temp_page,temp_page_number:c.temp_page_number,firstPage:e=>{e.preventDefault(),f()||_(e,1)},lastPage:e=>{e.preventDefault(),p()||_(e,T)},previousPage:e=>{if(e.preventDefault(),f())return!1;_(e,c.page_number-1)},nextPage:e=>{e.preventDefault(),p()||_(e,parseInt(c.page_number)+1)},goToPage:_,onPageChange:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])d({...c,is_temp_page:!0,temp_page_number:e.target.value});else if("Enter"===e.key){let n=e.target.value;_(e,n)}},onPageBlur:e=>{let n=e.target.value;_(e,n)}})]})})},T=e=>{let{alert:n,pTitle:a,h5Title:i,callback:l,errorDelete:s,setAlert:o,dBtn:r,bBtn:c}=e;const[d,g]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{setTimeout((()=>{g(n)}),20)}),[n]),n&&(0,x.jsxs)("div",{className:"alert-container",children:[(0,x.jsx)("div",{className:"alert-hidden-all-page",onClick:()=>o(!1)}),(0,x.jsxs)("div",{className:"alert-delete-travel ".concat(d?"show":""),children:[(0,x.jsx)("div",{className:"alert-title",children:a}),s&&(0,x.jsxs)("div",{className:"error",children:['\u05e9\u05d2\u05d9\u05d0\u05d4: "',s,'"']}),(0,x.jsxs)("div",{className:"alert-content",children:[(0,x.jsx)("p",{children:i}),(0,x.jsxs)("div",{className:"buttons",children:[(0,x.jsx)("div",{className:"confirm-btn",onClick:l,children:r}),(0,x.jsx)("div",{className:"back-btn",onClick:()=>o(!1),children:c})]})]})]})]})};let S=[{label:"\u05e9\u05dd",value:"name"},{label:"\u05e1\u05d8\u05d8\u05d5\u05e1",value:"isActive"},{label:"\u05d8\u05dc\u05e4\u05d5\u05df",value:"phone"},{label:"\u05ea\u05e4\u05e7\u05d9\u05d3",value:"role"},{label:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",value:"uniqueName"},{label:"\u05d4\u05e6\u05d8\u05e8\u05e3",value:"date"},{label:"\u05e2\u05d5\u05d3\u05db\u05df",value:"updatedAt"},{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:"remarks"}];const A=[{key:"name",text:"\u05e9\u05dd",className:"nameTR",align:"center",type:"text",sortable:!0,hidden:!1,required:!0},{key:"phone",text:"\u05d8\u05dc\u05e4\u05d5\u05df",className:"phoneTR",align:"center",type:"number",sortable:!0,hidden:!1,required:!1},{key:"uniqueName",text:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",className:"uniqueNameTR",align:"center",type:"text",sortable:!0,hidden:!1,required:!0},{key:"isActive",text:"\u05e1\u05d8\u05d8\u05d5\u05e1",className:"statusTR",align:"center",type:"switcher",sortable:!0,hidden:!1,required:!0},{key:"date",text:"\u05d4\u05e6\u05d8\u05e8\u05e3",className:"joinTR",align:"center",type:"none",sortable:!0,hidden:!1,required:!0},{key:"updatedAt",text:"\u05e2\u05d5\u05d3\u05db\u05df",className:"updatedAtTR",align:"left",type:"none",sortable:!0,hidden:!1,required:!0},{key:"remarks",text:"\u05d4\u05e2\u05e8\u05d5\u05ea",className:"remarksTR",align:"left",type:"none",sortable:!0,hidden:!1,required:!1},{key:"action",text:"",className:"action",width:100,type:"none",align:"left",sortable:!1,required:!0}],R={key_column:"_id",page_size:10,length_menu:[10,25,50,75,100],filename:"Users",button:{excel:!0,print:!0,csv:!0,extra:!1},language:{no_data_text:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd!",length_menu:"_MENU_",filter:"\u05d7\u05e4\u05e9 \u05d1\u05e8\u05e9\u05d5\u05de\u05d5\u05ea...",info:"_END_-_START_ \u05de\u05ea\u05d5\u05da _TOTAL_",pagination:{first:(0,x.jsx)(c.JUF,{}),previous:(0,x.jsx)("span",{children:(0,x.jsx)(c.qXl,{})}),next:(0,x.jsx)("span",{children:(0,x.jsx)(c.BJp,{})}),last:(0,x.jsx)(c.iWI,{})}},pagination:window.innerWidth>400?"advance":"basic",show_length_menu:!0,hidden_fields:!0,show_filter:!0,show_pagination:!0,show_info:!0,sort:{column:"test",order:"asc"},show_first:!0,show_last:!0},L=e=>{var n,a;let t=e;return 1===(null===(n=t)||void 0===n?void 0:n.split(":")[0].length)?t="0".concat(e):"24"===(null===(a=t)||void 0===a?void 0:a.split(":")[0])&&(t=t.replace("24:","00:")),t},F=e=>{let{editRow:n,loadEdit:a,callBack:i,closeAlertRow:o,error:c}=e;const[d,h]=(0,t.useState)("addNewUser"===n?[]:n||[]),[p,f]=(0,t.useState)(),m=e=>{let{key:n,value:a}=e;return h({...d,[n]:a})};return n&&(0,x.jsxs)("div",{className:"alert-edit-user-container edit-user-alert",children:[(0,x.jsx)("div",{className:"alert-hidden-all-page",onClick:a?()=>"":o}),(0,x.jsxs)("div",{className:"alert-edit-user",children:[(0,x.jsxs)("div",{className:"alert-edit-users-head",children:[(0,x.jsx)(g.dCQ,{className:"close-user-icon",onClick:a?()=>"":o}),"addNewUser"===n?a?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("h3",{children:"\u05de\u05d5\u05e1\u05d9\u05e3 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9..."})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("h3",{children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d3\u05e9"})}):a?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("h3",{children:"\u05e2\u05d5\u05e8\u05da \u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05de\u05e9\u05ea\u05de\u05e9..."})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("h3",{children:["\u05e2\u05e8\u05d5\u05da \u05d0\u05ea"," ",(0,x.jsx)("b",{onClick:a?()=>"":o,children:(0,x.jsx)(r.N_,{to:"/users?q=".concat(d.name),children:d.name})})]})})]}),c&&(0,x.jsx)("div",{className:"error",children:c}),(0,x.jsx)("div",{className:"edit-user-body ".concat(a?"loading":""),children:(0,x.jsxs)("form",{onSubmit:e=>{var t,s;e.preventDefault(),a&&(0,l.Z)("\u05e4\u05e8\u05d8\u05d9 \u05d4\u05e0\u05e1\u05d9\u05e2\u05d4 \u05e2\u05d3\u05d9\u05d9\u05df \u05d1\u05e2\u05e8\u05d9\u05db\u05d4..");const o={name:d.name.replace(/(^\s+|\s+$)/g,""),phone:null===d||void 0===d||null===(t=d.phone)||void 0===t?void 0:t.replace(/(^\s+|\s+$)/g,""),role:(null===d||void 0===d?void 0:d.role)||"staff",password:null===(s=d.password)||void 0===s?void 0:s.replace(/(^\s+|\s+$)/g,""),uniqueName:d.uniqueName.replace(/(^\s+|\s+$)/g,""),isActive:!!d.isActive,remarks:d.remarks};"addNewUser"!==n&&(o._id=d._id,!p&&delete o.password),i(o)},children:[(0,x.jsxs)("div",{className:"users-edit-rows",children:[A.map(((e,n)=>"none"!==e.type&&("switcher"===e.type?(0,x.jsxs)("div",{className:"user-row ",children:[(0,x.jsxs)("p",{children:[e.text,":"]}),(0,x.jsx)("div",{className:"switcher",onClick:()=>{h({...d,isActive:!d.isActive})},children:(0,x.jsx)(u.i,{checked:d.isActive})})]},n):(0,x.jsxs)("div",{className:"user-row",children:[(0,x.jsxs)("p",{children:[e.text,":","\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"===e.text?" (\u05d0\u05d9\u05de\u05d5\u05ea \u05db\u05e0\u05d9\u05e1\u05d4)":""]}),(0,x.jsx)("input",{step:"1",type:e.type,required:e.required,onInput:n=>m({key:e.key,value:n.target.value}),defaultValue:"time"===e.type?L(d[e.key]):d[e.key]})]},n)))),(p||"addNewUser"===n)&&(0,x.jsxs)("div",{className:"user-row",children:[(0,x.jsx)("p",{children:"\u05e1\u05d9\u05e1\u05de\u05d4:"}),(0,x.jsx)("input",{step:"1",type:"text",onInput:e=>m({key:"password",value:e.target.value}),required:!0,defaultValue:d.password})]}),(0,x.jsxs)("div",{className:"user-row textarea",children:[(0,x.jsx)("p",{children:"\u05d4\u05e2\u05e8\u05d5\u05ea:"}),(0,x.jsx)("textarea",{step:"1",cols:"30",rows:"4",onInput:e=>m({key:"remarks",value:e.target.value}),defaultValue:d.remarks})]})]}),(0,x.jsxs)("div",{className:"edit-user-buttons",children:[(0,x.jsx)("div",{children:"addNewUser"!==n&&(0,x.jsxs)("div",{className:"show-alert-pass",onClick:()=>{f(!p)},children:[(0,x.jsx)(g.EhT,{style:{marginLeft:"4px"}}),p?"\u05d0\u05dc \u05ea\u05e2\u05e8\u05d5\u05da \u05e1\u05d9\u05e1\u05de\u05d4":"\u05e2\u05e8\u05d5\u05da \u05e1\u05d9\u05e1\u05de\u05d4"]})}),(0,x.jsxs)("div",{className:"buttons",children:[(0,x.jsx)("div",{className:"back-btn",onClick:a?()=>"":o,children:"\u05d7\u05d6\u05d5\u05e8"}),(0,x.jsx)("button",{type:"submit",children:a?(0,x.jsx)(s.A,{}):"addNewUser"===n?"\u05d4\u05d5\u05e1\u05e3":"\u05e2\u05e8\u05d5\u05da"})]})]})]})})]})]})};const D=function(){const{state:e,fetchUsers:n,deleteUserAction:a,editUser:o,addUser:r}=(0,i.kp)(),{users:c,loading:d,loadingDelete:g,error:u,errResponse:h}=e,[p,f]=(0,t.useState)(),[m,v]=(0,t.useState)(),[_,j]=(0,t.useState)(),[b,N]=(0,t.useState)(),[k,y]=(0,t.useState)(),w=(0,t.useRef)(null);(0,t.useEffect)((()=>{n()}),[n]);const C=()=>{j(!1),f(!1),v(),N(!1),y()};return(0,x.jsxs)("div",{className:"data-table-container",children:[(0,x.jsx)("textarea",{ref:w,style:{position:"absolute",width:"0",height:"0",top:"-100vh",left:"-100vw"}}),(0,x.jsx)("div",{className:"add-new-user",onClick:()=>f("addNewUser"),children:(0,x.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",children:[(0,x.jsx)("path",{d:"M11 14h2v-3h3V9h-3V6h-2v3H8v2h3z"}),(0,x.jsx)("path",{d:"M20 2H4c-1.103 0-2 .897-2 2v18l5.333-4H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14H6.667L4 18V4h16v12z"})]})}),u&&(0,x.jsxs)("h3",{style:{color:"red",fontWeight:"bold",textAlign:"center"},children:['\u05e9\u05d2\u05d9\u05d0\u05d4: "',h,'"']}),p&&(0,x.jsx)(F,{editRow:p,loadEdit:b,callBack:async e=>{try{N(!0),"addNewUser"===p?(await r(e),(0,l.Q)("\u05d4\u05de\u05e9\u05ea\u05de\u05e9 ".concat(e.name," \u05e0\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!")),C(),function(e){var n,a,t,i,s;if(null===w||void 0===w||!w.current)return;w.current.value="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9: ".concat(e.uniqueName," \r\n\u05e1\u05d9\u05e1\u05de\u05d4: ").concat(e.password," \r\n\u05ea\u05e4\u05e7\u05d9\u05d3: ").concat("member"===e.role?"\u05e1\u05d5\u05e7\u05e8":"\u05e6\u05d5\u05d5\u05ea"),null===w||void 0===w||null===(n=w.current)||void 0===n||n.focus(),null===w||void 0===w||null===(a=w.current)||void 0===a||a.select(),null===w||void 0===w||null===(t=w.current)||void 0===t||null===(i=t.classList)||void 0===i||i.add("textarea-not-shoeing");(null===(s=document)||void 0===s?void 0:s.execCommand("copy"))?(0,l.Q)("\u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05d5\u05e2\u05ea\u05e7\u05d5 \u05dc\u05dc\u05d5\u05d7"):(0,l.Z)("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05de\u05e0\u05e2\u05d4 \u05d0\u05ea \u05d4\u05e2\u05ea\u05e7\u05d4 \u05e9\u05dc \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05dc\u05dc\u05d5\u05d7")}(e)):(await o(e),C())}catch(u){var n,a;y((null===(n=u.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error_msg)||u.message||"\u05d4\u05ea\u05e8\u05d7\u05e9\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4"),N(!1)}},closeAlertRow:C,error:k}),_&&(0,x.jsx)(T,{alert:_,errorDelete:m,pTitle:"".concat(g?"\u05de\u05d5\u05d7\u05e7 \u05de\u05e9\u05ea\u05de\u05e9...":"\u05de\u05d7\u05e7 \u05de\u05e9\u05ea\u05de\u05e9"),h5Title:"\u05e9\u05d9\u05dd \u05dc\u05d1 \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d7\u05d6\u05e8 \u05d0\u05ea \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0\u05d7\u05e8 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4. ".concat(g?"":"\u05dc\u05de\u05d7\u05d5\u05e7 \u05d1\u05db\u05dc \u05d6\u05d0\u05ea?"),callback:()=>g?"":a(_,C),setAlert:g?()=>"":C,dBtn:g?(0,x.jsx)(s.A,{}):"\u05de\u05d7\u05e7",bBtn:"\u05d1\u05d8\u05dc"}),(0,x.jsx)(P,{className:"table-export-table",config:R,records:c||[],columns:A||[],onPageChange:e=>{console.log("OnPageChange",e)},editRow:p,alertDeleteRow:e=>{j(e._id)},onEditRow:e=>{f(e)},loading:d,onSort:(e,n,a)=>n=n.sort(((n,t)=>{var i,l;let s="string"===typeof n[e]?(null===(i=n[e])||void 0===i?void 0:i.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":n[e],o="string"===typeof t[e]?(null===(l=t[e])||void 0===l?void 0:l.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":t[e];var r,c;if("desc"===a)o="string"===typeof n[e]?(null===(r=n[e])||void 0===r?void 0:r.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":n[e],s="string"===typeof t[e]?(null===(c=t[e])||void 0===c?void 0:c.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":t[e];else if("asc"===a){var d,g;s="string"===typeof n[e]?(null===(d=n[e])||void 0===d?void 0:d.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":n[e],o="string"===typeof t[e]?(null===(g=t[e])||void 0===g?void 0:g.replace(" ",""))||"\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea\u05ea":t[e]}return s>o?1:s<o?-1:0})),id:"as-react-users-dataTable",dynamic:!1,total_record:0,columnForXlsx:S,onChange:()=>{}})]})}},6397:()=>{},2740:()=>{}}]);
//# sourceMappingURL=255.594af02a.chunk.js.map